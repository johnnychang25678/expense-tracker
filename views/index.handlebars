<div class="container mt-4">
  {{!-- filter --}}
  <div class="row">
    <div class="col-3"></div>
    <form class="filter-form col-6" action="/">
      <select class="form-select form-select-sm" name="filter" onchange="this.form.submit()">
        <option value="all" {{ifSelect filter.category 'all'}}>全部類別</option>
        <option value="home" {{ifSelect filter.category 'home'}}>家居物業</option>
        <option value="traffic" {{ifSelect filter.category 'traffic'}}>交通出行</option>
        <option value="entertainment" {{ifSelect filter.category 'entertainment'}}>休閒娛樂</option>
        <option value="food" {{ifSelect filter.category 'food'}}>餐飲食品</option>
        <option value="others" {{ifSelect filter.category 'others'}}>其他</option>
      </select>
    </form>
  </div>

  {{!-- totalAmount --}}
  <div class="row mt-2">
    <div class="col-3"></div>
    <div class="col-6 d-flex justify-content-between">
      <span>總金額:</span>
      <div class="amount">{{totalAmount}}</div>
    </div>
  </div>

  {{!-- expenses --}}
  {{#each records}}
    <ul class="list-group">
      <li class="list-group-item">
        <div class="row align-items-center">
          <div class="col-3"></div>

          {{!-- icon --}}
          <div class="col-1 expense-icon">
            <i class="{{this.category}}"></i>
          </div>
          {{!-- expense item --}}
          <div class="col-4 expense-item d-flex flex-column">
            <span class="category">{{this.name}}</span>
            <small class="date">{{this.date}}</small>
          </div>
          {{!-- amount --}}
          <div class="col-1 expense-amount">
            {{this.amount}}
          </div>
          {{!-- buttons --}}
          <div class="col-3 btn-group">
            {{!-- edit --}}
            <a href="/expenses/{{this._id}}/edit">
              <button class="mr-3">修改</button>
            </a>
            {{!-- delete --}}
            <form action="/expenses/{{this._id}}?_method=DELETE" method="POST" onsubmit="return confirm('確定要刪除嗎?')"
              class="ml-2">
              <button type="submit">刪除</button>
            </form>
          </div>
      </li>
  {{/each}}
  </ul>
  <div class="row mt-2">
    <div class="col-3"></div>
    <div class="col-6 d-flex justify-content-center">
      <button>
        <a href="/expenses/new">新增支出</a>
      </button>
    </div>
  </div>



</div>

</div>